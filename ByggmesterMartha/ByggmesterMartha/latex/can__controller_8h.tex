\hypertarget{can__controller_8h}{}\section{/home/student/\+Byggmester-\/\+Martha/\+Node2/\+Node2/inc/can\+\_\+controller.h File Reference}
\label{can__controller_8h}\index{/home/student/\+Byggmester-\/\+Martha/\+Node2/\+Node2/inc/can\+\_\+controller.\+h@{/home/student/\+Byggmester-\/\+Martha/\+Node2/\+Node2/inc/can\+\_\+controller.\+h}}


Delivered can controll library for node 2.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for can\+\_\+controller.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{can__controller_8h_a5918f3dbd6f1aa407afc4f7c34854e08}\label{can__controller_8h_a5918f3dbd6f1aa407afc4f7c34854e08}} 
typedef struct \hyperlink{structcan__message__t}{can\+\_\+message\+\_\+t} {\bfseries C\+A\+N\+\_\+\+M\+E\+S\+S\+A\+GE}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{can__controller_8h_aaefb35a157cd03ca83d82e86716a6c3c}\label{can__controller_8h_aaefb35a157cd03ca83d82e86716a6c3c}} 
uint32\+\_\+t {\bfseries construct\+\_\+can\+\_\+br\+\_\+register} ()
\item 
uint8\+\_\+t \hyperlink{can__controller_8h_a75e7e1428e5ce309c0087602721bf57d}{can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb} (uint32\+\_\+t can\+\_\+br)
\begin{DoxyCompactList}\small\item\em Initialize can bus with predefined number of rx and tx mailboxes, C\+A\+N0-\/$>$C\+A\+N\+\_\+\+MB\mbox{[}0\mbox{]} is used for transmitting C\+A\+N0-\/$>$C\+A\+N\+\_\+\+MB\mbox{[}1,2\mbox{]} is used for receiving. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can__controller_8h_ab12c1286ebbc8c54dc200d4b9c86902d}{can\+\_\+init} (uint32\+\_\+t can\+\_\+br, uint8\+\_\+t num\+\_\+tx\+\_\+mb, uint8\+\_\+t num\+\_\+rx\+\_\+mb)
\begin{DoxyCompactList}\small\item\em Initialize can bus. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can__controller_8h_ac81681fa36cdf9fe6bdefdbb8164df07}{can\+\_\+send} (\hyperlink{structcan__message__t}{C\+A\+N\+\_\+\+M\+E\+S\+S\+A\+GE} $\ast$\hyperlink{structcan__msg}{can\+\_\+msg}, uint8\+\_\+t mailbox\+\_\+id)
\begin{DoxyCompactList}\small\item\em Send can message from mailbox. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can__controller_8h_ac22373dd81bf37380ec1f662e7b27678}{can\+\_\+receive} (\hyperlink{structcan__message__t}{C\+A\+N\+\_\+\+M\+E\+S\+S\+A\+GE} $\ast$\hyperlink{structcan__msg}{can\+\_\+msg}, uint8\+\_\+t mailbox\+\_\+id)
\begin{DoxyCompactList}\small\item\em Read can message from mailbox. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Delivered can controll library for node 2. 



\subsection{Function Documentation}
\mbox{\Hypertarget{can__controller_8h_ab12c1286ebbc8c54dc200d4b9c86902d}\label{can__controller_8h_ab12c1286ebbc8c54dc200d4b9c86902d}} 
\index{can\+\_\+controller.\+h@{can\+\_\+controller.\+h}!can\+\_\+init@{can\+\_\+init}}
\index{can\+\_\+init@{can\+\_\+init}!can\+\_\+controller.\+h@{can\+\_\+controller.\+h}}
\subsubsection{\texorpdfstring{can\+\_\+init()}{can\_init()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+init (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{can\+\_\+br,  }\item[{uint8\+\_\+t}]{num\+\_\+tx\+\_\+mb,  }\item[{uint8\+\_\+t}]{num\+\_\+rx\+\_\+mb }\end{DoxyParamCaption})}



Initialize can bus. 


\begin{DoxyParams}{Parameters}
{\em can\+\_\+br} & Value to be set in C\+A\+N0-\/$>$C\+A\+N\+\_\+\+BR register to match can bus bit timing\\
\hline
{\em num\+\_\+tx\+\_\+mb} & Number of transmit mailboxes, tx mb indexes\+: \mbox{[}0 , num\+\_\+tx\+\_\+mb-\/1\mbox{]}\\
\hline
{\em num\+\_\+rx\+\_\+mb} & Number of receive mailboxes, rx mb indexes\+: \mbox{[}num\+\_\+tx\+\_\+mb, num\+\_\+rx\+\_\+mb-\/1\mbox{]}\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Success(0)} & or failure(1) \\
\hline
\end{DoxyRetVals}


Definition at line 86 of file can\+\_\+controller.\+c.

\mbox{\Hypertarget{can__controller_8h_a75e7e1428e5ce309c0087602721bf57d}\label{can__controller_8h_a75e7e1428e5ce309c0087602721bf57d}} 
\index{can\+\_\+controller.\+h@{can\+\_\+controller.\+h}!can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb@{can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb}}
\index{can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb@{can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb}!can\+\_\+controller.\+h@{can\+\_\+controller.\+h}}
\subsubsection{\texorpdfstring{can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb()}{can\_init\_def\_tx\_rx\_mb()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+init\+\_\+def\+\_\+tx\+\_\+rx\+\_\+mb (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{can\+\_\+br }\end{DoxyParamCaption})}



Initialize can bus with predefined number of rx and tx mailboxes, C\+A\+N0-\/$>$C\+A\+N\+\_\+\+MB\mbox{[}0\mbox{]} is used for transmitting C\+A\+N0-\/$>$C\+A\+N\+\_\+\+MB\mbox{[}1,2\mbox{]} is used for receiving. 


\begin{DoxyParams}{Parameters}
{\em can\+\_\+br} & Value to be set in C\+A\+N0-\/$>$C\+A\+N\+\_\+\+BR register to match can bus bit timing\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Success(0)} & or failure(1) \\
\hline
\end{DoxyRetVals}


Definition at line 68 of file can\+\_\+controller.\+c.

\mbox{\Hypertarget{can__controller_8h_ac22373dd81bf37380ec1f662e7b27678}\label{can__controller_8h_ac22373dd81bf37380ec1f662e7b27678}} 
\index{can\+\_\+controller.\+h@{can\+\_\+controller.\+h}!can\+\_\+receive@{can\+\_\+receive}}
\index{can\+\_\+receive@{can\+\_\+receive}!can\+\_\+controller.\+h@{can\+\_\+controller.\+h}}
\subsubsection{\texorpdfstring{can\+\_\+receive()}{can\_receive()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+receive (\begin{DoxyParamCaption}\item[{\hyperlink{structcan__message__t}{C\+A\+N\+\_\+\+M\+E\+S\+S\+A\+GE} $\ast$}]{can\+\_\+msg,  }\item[{uint8\+\_\+t}]{rx\+\_\+mb\+\_\+id }\end{DoxyParamCaption})}



Read can message from mailbox. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structcan__msg}{can\+\_\+msg}} & struct instance to save received data\\
\hline
{\em rx\+\_\+mb\+\_\+id} & ID of receive mailbox to be used\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Success(0)} & or failure(1) \\
\hline
\end{DoxyRetVals}


Definition at line 209 of file can\+\_\+controller.\+c.

\mbox{\Hypertarget{can__controller_8h_ac81681fa36cdf9fe6bdefdbb8164df07}\label{can__controller_8h_ac81681fa36cdf9fe6bdefdbb8164df07}} 
\index{can\+\_\+controller.\+h@{can\+\_\+controller.\+h}!can\+\_\+send@{can\+\_\+send}}
\index{can\+\_\+send@{can\+\_\+send}!can\+\_\+controller.\+h@{can\+\_\+controller.\+h}}
\subsubsection{\texorpdfstring{can\+\_\+send()}{can\_send()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+send (\begin{DoxyParamCaption}\item[{\hyperlink{structcan__message__t}{C\+A\+N\+\_\+\+M\+E\+S\+S\+A\+GE} $\ast$}]{can\+\_\+msg,  }\item[{uint8\+\_\+t}]{tx\+\_\+mb\+\_\+id }\end{DoxyParamCaption})}



Send can message from mailbox. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structcan__msg}{can\+\_\+msg}} & message to be sent\\
\hline
{\em tx\+\_\+mb\+\_\+id} & ID of transmit mailbox to be used\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Success(0)} & or failure(1) \\
\hline
\end{DoxyRetVals}


Definition at line 171 of file can\+\_\+controller.\+c.

