\hypertarget{can_8c}{}\section{src/can.c File Reference}
\label{can_8c}\index{src/can.\+c@{src/can.\+c}}


Implementation of the C\+AN library.  


{\ttfamily \#include $<$avr/io.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../inc/can.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../inc/mcp2515.\+h\char`\"{}}\newline
Include dependency graph for can.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{can_8c_ac133c0bb7997b70ea99174432c83f320}{can\+\_\+valid\+\_\+transmit\+\_\+buffer} (uint8\+\_\+t $\ast$tx\+\_\+buffer\+\_\+address)
\begin{DoxyCompactList}\small\item\em Checks for valid transmition buffer. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can_8c_a42550395e520e10607360cc85a0016e8}{can\+\_\+pending\+\_\+receive\+\_\+buffer} (uint8\+\_\+t $\ast$rx\+\_\+buffer\+\_\+address)
\begin{DoxyCompactList}\small\item\em Checks for pending receive buffer. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can_8c_a746677b11307306d78e3fb3d89360164}{can\+\_\+transmit\+\_\+message} (struct \hyperlink{structcan__msg}{can\+\_\+msg} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Transmit message over can bus. \end{DoxyCompactList}\item 
void \hyperlink{can_8c_a48d063cc9aa686269d4306923c0626ad}{clear\+\_\+receive\+\_\+flag} (uint8\+\_\+t receive\+\_\+buffer\+\_\+id)
\begin{DoxyCompactList}\small\item\em This function is used to clear the C\+A\+N\+I\+N\+T\+F.\+R\+Xn\+IF flag. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{can_8c_a148e24efedb0634295c9835984059d81}{can\+\_\+receive\+\_\+message} (struct \hyperlink{structcan__msg}{can\+\_\+msg} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Read received message from can bus. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of the C\+AN library. 



\subsection{Function Documentation}
\mbox{\Hypertarget{can_8c_a42550395e520e10607360cc85a0016e8}\label{can_8c_a42550395e520e10607360cc85a0016e8}} 
\index{can.\+c@{can.\+c}!can\+\_\+pending\+\_\+receive\+\_\+buffer@{can\+\_\+pending\+\_\+receive\+\_\+buffer}}
\index{can\+\_\+pending\+\_\+receive\+\_\+buffer@{can\+\_\+pending\+\_\+receive\+\_\+buffer}!can.\+c@{can.\+c}}
\subsubsection{\texorpdfstring{can\+\_\+pending\+\_\+receive\+\_\+buffer()}{can\_pending\_receive\_buffer()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+pending\+\_\+receive\+\_\+buffer (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{tx\+\_\+buffer\+\_\+address }\end{DoxyParamCaption})}



Checks for pending receive buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em tx\+\_\+buffer\+\_\+address} & Address of first pending buffer found\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t ID of valid buffer, returns 3 if non valid buffers 
\end{DoxyReturn}


Definition at line 35 of file can.\+c.

\mbox{\Hypertarget{can_8c_a148e24efedb0634295c9835984059d81}\label{can_8c_a148e24efedb0634295c9835984059d81}} 
\index{can.\+c@{can.\+c}!can\+\_\+receive\+\_\+message@{can\+\_\+receive\+\_\+message}}
\index{can\+\_\+receive\+\_\+message@{can\+\_\+receive\+\_\+message}!can.\+c@{can.\+c}}
\subsubsection{\texorpdfstring{can\+\_\+receive\+\_\+message()}{can\_receive\_message()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+receive\+\_\+message (\begin{DoxyParamCaption}\item[{struct \hyperlink{structcan__msg}{can\+\_\+msg} $\ast$}]{msg }\end{DoxyParamCaption})}



Read received message from can bus. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em msg} & Points to location where received message is stored\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t 0 on success, 1 on failure 
\end{DoxyReturn}


Definition at line 117 of file can.\+c.

\mbox{\Hypertarget{can_8c_a746677b11307306d78e3fb3d89360164}\label{can_8c_a746677b11307306d78e3fb3d89360164}} 
\index{can.\+c@{can.\+c}!can\+\_\+transmit\+\_\+message@{can\+\_\+transmit\+\_\+message}}
\index{can\+\_\+transmit\+\_\+message@{can\+\_\+transmit\+\_\+message}!can.\+c@{can.\+c}}
\subsubsection{\texorpdfstring{can\+\_\+transmit\+\_\+message()}{can\_transmit\_message()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+transmit\+\_\+message (\begin{DoxyParamCaption}\item[{struct \hyperlink{structcan__msg}{can\+\_\+msg} $\ast$}]{msg }\end{DoxyParamCaption})}



Transmit message over can bus. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg} & Pointer message to be send\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t 0 on success, 1 on failure 
\end{DoxyReturn}


Definition at line 52 of file can.\+c.

\mbox{\Hypertarget{can_8c_ac133c0bb7997b70ea99174432c83f320}\label{can_8c_ac133c0bb7997b70ea99174432c83f320}} 
\index{can.\+c@{can.\+c}!can\+\_\+valid\+\_\+transmit\+\_\+buffer@{can\+\_\+valid\+\_\+transmit\+\_\+buffer}}
\index{can\+\_\+valid\+\_\+transmit\+\_\+buffer@{can\+\_\+valid\+\_\+transmit\+\_\+buffer}!can.\+c@{can.\+c}}
\subsubsection{\texorpdfstring{can\+\_\+valid\+\_\+transmit\+\_\+buffer()}{can\_valid\_transmit\_buffer()}}
{\footnotesize\ttfamily uint8\+\_\+t can\+\_\+valid\+\_\+transmit\+\_\+buffer (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{tx\+\_\+buffer\+\_\+address }\end{DoxyParamCaption})}



Checks for valid transmition buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em tx\+\_\+buffer\+\_\+address} & Address of first valid buffer found\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t ID of valid buffer, returns 3 if non valid buffers 
\end{DoxyReturn}


Definition at line 14 of file can.\+c.

\mbox{\Hypertarget{can_8c_a48d063cc9aa686269d4306923c0626ad}\label{can_8c_a48d063cc9aa686269d4306923c0626ad}} 
\index{can.\+c@{can.\+c}!clear\+\_\+receive\+\_\+flag@{clear\+\_\+receive\+\_\+flag}}
\index{clear\+\_\+receive\+\_\+flag@{clear\+\_\+receive\+\_\+flag}!can.\+c@{can.\+c}}
\subsubsection{\texorpdfstring{clear\+\_\+receive\+\_\+flag()}{clear\_receive\_flag()}}
{\footnotesize\ttfamily void clear\+\_\+receive\+\_\+flag (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{receive\+\_\+buffer\+\_\+id }\end{DoxyParamCaption})}



This function is used to clear the C\+A\+N\+I\+N\+T\+F.\+R\+Xn\+IF flag. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em receive\+\_\+buffer\+\_\+id} & Buffer ID corresponding to cleared flag\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 100 of file can.\+c.

